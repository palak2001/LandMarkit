(this["webpackJsonpportis-starter"]=this["webpackJsonpportis-starter"]||[]).push([[0],{192:function(e,t,n){e.exports=n(477)},197:function(e,t,n){},214:function(e,t){},223:function(e,t){},240:function(e,t){},242:function(e,t){},257:function(e,t){},268:function(e,t){},269:function(e,t){},321:function(e,t){},323:function(e,t){},332:function(e,t){},334:function(e,t){},359:function(e,t){},361:function(e,t){},362:function(e,t){},368:function(e,t){},370:function(e,t){},382:function(e,t){},385:function(e,t){},401:function(e,t){},404:function(e,t){},408:function(e,t){},421:function(e,t){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),r=n(185),c=n.n(r),i=(n(197),n(186)),l=n(14),o=n.n(l),u=n(94),d=n(1),m=n(3),h=n(8),f=n(7),v=n(187),p=n.n(v),E=n(188),b=n.n(E),g=new p.a("fff564f8-0ef8-4eb3-8a68-ec74bc7f711b",{nodeUrl:"http://localhost:8545",chainId:1}),k=new b.a(g.provider),w=new k.eth.Contract([{constant:!1,inputs:[{name:"receiver",type:"address"}],name:"transferFunds",outputs:[],payable:!0,stateMutability:"payable",type:"function"}],"0x726F7341A0907709FfdEf583fDEa3d63eAF0E673"),A=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={senderAddress:"",receiverAddress:"",amount:1,senderBalance:0,receiverBalance:0,message:""},a}return Object(m.a)(n,[{key:"activateMenu",value:function(){g.showPortis()}},{key:"sendTransfer",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.senderBalance>0)){e.next=11;break}return e.prev=1,console.log("try started"),e.next=5,w.methods.transferFunds(this.state.receiverAddress).send({from:this.state.senderAddress,value:k.utils.toWei(this.state.amount.toString(),"ether")},(function(e,n){e?(console.log("I will give error"),t.setState({message:"error:"+e.message})):t.setState({message:"transaction hash:"+n})}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("try failed"),this.setState({message:"the transfer has failed"});case 11:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"checkBalance",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,n=0,a="",!k.utils.isAddress(this.state.senderAddress)){e.next=11;break}return e.t0=k.utils,e.next=7,k.eth.getBalance(this.state.senderAddress);case 7:e.t1=e.sent,t=e.t0.fromWei.call(e.t0,e.t1),e.next=12;break;case 11:a="Error: Incorrect etherum address for the sender";case 12:if(!this.state.receiverAddress){e.next=22;break}if(!k.utils.isAddress(this.state.receiverAddress)){e.next=21;break}return e.t2=k.utils,e.next=17,k.eth.getBalance(this.state.receiverAddress);case 17:e.t3=e.sent,n=e.t2.fromWei.call(e.t2,e.t3),e.next=22;break;case 21:a="Error: Incoreect etherum address for the receiver";case 22:this.setState({senderBalance:t,receiverBalance:n,message:a});case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState(Object(i.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=this;g.onLogin((function(t){e.setState({senderAddress:t}),e.checkBalance()})),g.onActiveWalletChanged((function(t){e.setState({senderAddress:t}),e.checkBalance()}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"nine columns smallTop"},this.state.message&&s.a.createElement("b",null,this.state.message)),s.a.createElement("div",{className:"three columns u-pull-right"},s.a.createElement("button",{type:"button",className:"u-full-width",onClick:this.activateMenu},"Portis Menu"))),s.a.createElement("form",null,s.a.createElement("div",{className:"row smallTop"},s.a.createElement("div",{className:"six columns"},s.a.createElement("label",null,"Sender Address"),s.a.createElement("input",{name:"senderAddress",value:this.state.senderAddress,type:"text",className:"u-full-width",placeholder:"Loading...",disabled:!0})),s.a.createElement("div",{className:"six columns"},s.a.createElement("label",null,"Receiver Address"),s.a.createElement("input",{name:"receiverAddress",value:this.state.receiverAddress,type:"text",className:"u-full-width",placeholder:"Enter the receiver address",required:!0,onChange:this.onChange.bind(this)}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"six columns"},s.a.createElement("label",null,"Amount"),s.a.createElement("input",{name:"amount",value:this.state.amount,type:"text",className:"u-full-width",placeholder:"Amount to send",required:!0,onChange:this.onChange.bind(this)})),s.a.createElement("div",{className:"three columns"},s.a.createElement("label",null,"Sender Balance"),s.a.createElement("p",null,this.state.senderBalance," ETH")),s.a.createElement("div",{className:"three columns"},s.a.createElement("label",null,"Receiver Balance"),s.a.createElement("p",null,this.state.receiverBalance," ETH"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"six columns"},s.a.createElement("button",{type:"button",className:"button-primary u-full-width",disabled:!this.state.receiverAddress,onClick:this.sendTransfer.bind(this)},"Transfer")),s.a.createElement("div",{className:"six columns"},s.a.createElement("button",{type:"button",className:"u-full-width",onClick:this.checkBalance.bind(this)},"Check Balance")))))}}]),n}(a.Component);n(473),n(474),n(475);function y(){return s.a.createElement("div",{className:"App container"},s.a.createElement("header",null,s.a.createElement("h1",null,"Ethereum Transfer")),s.a.createElement(A,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[192,1,2]]]);
//# sourceMappingURL=main.8d4c8247.chunk.js.map