{"ast":null,"code":"var _jsxFileName = \"/home/anshul/portis-react-starter/src/components/SendTransferForm.js\";\nimport React, { Component } from 'react';\nimport { web3, portis } from \"../services/web3\";\nimport { abi } from \"../abi/Transaction.js\";\nconst contractAddress = '0x95373fc9E728658C19773ff6d0e49B6E5C4B0145';\nconst TransactionContract = new web3.eth.Contract(abi, contractAddress);\nexport default class SendTransferForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      senderAddress: '',\n      receiverAddress: '',\n      amount: 1,\n      senderBalance: 0,\n      receiverBalance: 0,\n      message: ''\n    };\n  }\n\n  activateMenu() {\n    portis.showPortis();\n  }\n\n  async sendTransfer() {\n    if (this.state.senderBalance > 0) {\n      try {\n        console.log(\"try started\");\n        await TransactionContract.methods.transferFunds(this.state.receiverAddress).send({\n          from: this.state.senderAddress,\n          value: web3.utils.toWei(this.state.amount.toString(), 'ether')\n        }, (error, result) => {\n          if (error) {\n            console.log(\"I will give error\");\n            this.setState({\n              message: 'error:' + error.message\n            });\n          } else {\n            this.setState({\n              message: 'transaction hash:' + result\n            });\n          }\n        });\n      } catch (error) {\n        console.log(\"try failed\");\n        this.setState({\n          message: 'the transfer has failed'\n        });\n      }\n    }\n  }\n\n  async checkBalance() {\n    let senderBalance = 0;\n    let receiverBalance = 0;\n    let message = '';\n\n    if (web3.utils.isAddress(this.state.senderAddress)) {\n      senderBalance = web3.utils.fromWei(await web3.eth.getBalance(this.state.senderAddress));\n    } else {\n      message = 'Error: Incorrect etherum address for the sender';\n    }\n\n    if (this.state.receiverAddress) {\n      if (web3.utils.isAddress(this.state.receiverAddress)) {\n        receiverBalance = web3.utils.fromWei(await web3.eth.getBalance(this.state.receiverAddress));\n      } else {\n        message = 'Error: Incoreect etherum address for the receiver';\n      }\n    }\n\n    this.setState({\n      senderBalance,\n      receiverBalance,\n      message\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    portis.onLogin(senderAddress => {\n      this.setState({\n        senderAddress\n      });\n      this.checkBalance();\n    });\n    portis.onActiveWalletChanged(senderAddress => {\n      this.setState({\n        senderAddress\n      });\n      this.checkBalance();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nine columns smallTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 16\n      }\n    }, this.state.message && /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 42\n      }\n    }, this.state.message)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns u-pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"u-full-width\",\n      onClick: this.activateMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    }, \"Portis Menu\"))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row smallTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 22\n      }\n    }, \"Sender Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"senderAddress\",\n      value: this.state.senderAddress,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Loading...\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 22\n      }\n    }, \"Receiver Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"receiverAddress\",\n      value: this.state.receiverAddress,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Enter the receiver address\",\n      required: true,\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 22\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"amount\",\n      value: this.state.amount,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Amount to send\",\n      required: true,\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 22\n      }\n    }, \"Sender Balance\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 22\n      }\n    }, this.state.senderBalance, \" ETH\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 22\n      }\n    }, \"Receiver Balance\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 22\n      }\n    }, this.state.receiverBalance, \" ETH\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button-primary u-full-width\",\n      disabled: !this.state.receiverAddress,\n      onClick: this.sendTransfer.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 22\n      }\n    }, \"Transfer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"u-full-width\",\n      onClick: this.checkBalance.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 22\n      }\n    }, \"Check Balance\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/anshul/portis-react-starter/src/components/SendTransferForm.js"],"names":["React","Component","web3","portis","abi","contractAddress","TransactionContract","eth","Contract","SendTransferForm","constructor","props","state","senderAddress","receiverAddress","amount","senderBalance","receiverBalance","message","activateMenu","showPortis","sendTransfer","console","log","methods","transferFunds","send","from","value","utils","toWei","toString","error","result","setState","checkBalance","isAddress","fromWei","getBalance","onChange","e","target","name","componentDidMount","onLogin","onActiveWalletChanged","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {web3,portis} from \"../services/web3\";\n\nimport {abi} from \"../abi/Transaction.js\";\n\nconst contractAddress = '0x95373fc9E728658C19773ff6d0e49B6E5C4B0145';\nconst TransactionContract = new web3.eth.Contract(abi, contractAddress); \n\nexport default class SendTransferForm extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         senderAddress: '',\n         receiverAddress: '',\n         amount: 1,\n         senderBalance: 0,\n         receiverBalance: 0,\n         message: '',\n      };\n   }\n\n   activateMenu(){\n      portis.showPortis();\n   }\n\n   async sendTransfer(){\n      if(this.state.senderBalance>0){\n         try{\n            console.log(\"try started\");\n            await TransactionContract.methods\n               .transferFunds(this.state.receiverAddress)\n               .send({\n                  from:this.state.senderAddress,\n                  value:web3.utils.toWei(\n                     this.state.amount.toString(),\n                     'ether'\n                  )\n               },\n               (error,result)=>{\n                  if(error){\n                     console.log(\"I will give error\");\n                     this.setState({message:'error:'+error.message});\n                  }\n                  else{\n                     this.setState({message:'transaction hash:'+result});\n                  }\n               }\n               );\n            }\n         catch(error){\n            console.log(\"try failed\");\n            this.setState({message:'the transfer has failed'});\n         }\n         \n      }\n   }\n\n   async checkBalance(){\n      let senderBalance=0;\n      let receiverBalance=0;\n      let message='';\n\n      if(web3.utils.isAddress(this.state.senderAddress)) {\n            senderBalance=web3.utils.fromWei(\n                  await web3.eth.getBalance(this.state.senderAddress)\n            );\n      }\n      else{\n            message='Error: Incorrect etherum address for the sender';\n      }\n\n      if(this.state.receiverAddress){\n            if(web3.utils.isAddress(this.state.receiverAddress)){\n                  receiverBalance=web3.utils.fromWei(\n                        await web3.eth.getBalance(this.state.receiverAddress)\n                  );\n            }\n            else{\n                  message = 'Error: Incoreect etherum address for the receiver';\n            }\n      }\n      this.setState({senderBalance,receiverBalance,message});\n}\n\n   onChange(e) {\n      this.setState({ [e.target.name]: e.target.value });\n   }\n\n   componentDidMount() {\n      portis.onLogin((senderAddress)=>{\n         this.setState({senderAddress});\n         this.checkBalance();\n      })\n\n      portis.onActiveWalletChanged((senderAddress)=>{\n         this.setState({senderAddress});\n         this.checkBalance();\n      })\n   }\n\n   render() {\n      return (\n         <div>\n            <div className=\"row\">\n               <div className=\"nine columns smallTop\">\n                  {this.state.message && <b>{this.state.message}</b>}\n               </div>\n               <div className=\"three columns u-pull-right\">\n                  <button type=\"button\" className=\"u-full-width\" onClick={this.activateMenu}>\n                     Portis Menu\n                  </button>\n               </div>\n            </div>\n\n            <form>\n               <div className=\"row smallTop\">\n                  <div className=\"six columns\">\n                     <label>Sender Address</label>\n                     <input\n                        name=\"senderAddress\"\n                        value={this.state.senderAddress}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Loading...\"\n                        disabled\n                     />\n                  </div>\n                  <div className=\"six columns\">\n                     <label>Receiver Address</label>\n                     <input\n                        name=\"receiverAddress\"\n                        value={this.state.receiverAddress}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Enter the receiver address\"\n                        required\n                        onChange={this.onChange.bind(this)}\n                     />\n                  </div>\n               </div>\n               <div className=\"row\">\n                  <div className=\"six columns\">\n                     <label>Amount</label>\n                     <input\n                        name=\"amount\"\n                        value={this.state.amount}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Amount to send\"\n                        required\n                        onChange={this.onChange.bind(this)}\n                     />\n                  </div>\n                  <div className=\"three columns\">\n                     <label>Sender Balance</label>\n                     <p>{this.state.senderBalance} ETH</p>\n                  </div>\n                  <div className=\"three columns\">\n                     <label>Receiver Balance</label>\n                     <p>{this.state.receiverBalance} ETH</p>\n                  </div>\n               </div>\n               <div className=\"row\">\n                  <div className=\"six columns\">\n                     <button\n                        type=\"button\"\n                        className=\"button-primary u-full-width\"\n                        disabled={!this.state.receiverAddress}\n                        onClick={this.sendTransfer.bind(this)}\n                     >\n                        Transfer\n                     </button>\n                  </div>\n                  <div className=\"six columns\">\n                     <button type=\"button\" className=\"u-full-width\" onClick={this.checkBalance.bind(this)}>\n                        Check Balance\n                     </button>\n                  </div>\n               </div>\n            </form>\n         </div>\n      );\n   }\n}\n"]},"metadata":{},"sourceType":"module"}