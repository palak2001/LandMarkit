{"ast":null,"code":"var _jsxFileName = \"/home/palak/portis-react-starter/src/components/SendTransferForm.js\";\nimport React, { Component } from 'react';\nimport { web3, portis } from \"../services/web3.js\";\nexport default class SendTransferForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      senderAddress: '',\n      receiverAddress: '',\n      amount: 1,\n      senderBalance: 0,\n      receiverBalance: 0,\n      message: ''\n    };\n  }\n\n  activateMenu() {\n    portis.showPortis();\n  }\n\n  async checkBalance() {\n    let senderBalance = 0;\n    let receiverBalance = 0;\n    let message = '';\n\n    if (web3.utils.isAddress(this.state.senderAddress)) {\n      senderBalance = web3.utils.fromWei(await web3.eth.getBalance(this.state.senderAddress));\n    } else {\n      message = 'Error: Incorrect etherum address for the sender';\n    }\n\n    if (this.state.receiverAddress) {\n      if (web3.utils.isAddress(this.state.receiverAddress)) {\n        receiverBalance = web3.utils.fromWei(await web3.eth.getBalance(this.state.receiverBalance));\n      } else {\n        message = 'Error: Incoreect etherum address for the receiver';\n      }\n    }\n\n    this.setState({\n      senderBalance,\n      receiverBalance,\n      message\n    });\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  componentDidMount() {\n    portis.onLogin(senderAddress => {\n      this.setState({\n        senderAddress\n      });\n      this.checkBalance();\n    });\n    portis.onActiveWalletChanged(senderAddress => {\n      this.setState({\n        senderAddress\n      });\n      this.checkBalance();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nine columns smallTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 16\n      }\n    }, this.state.message && /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 42\n      }\n    }, this.state.message)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns u-pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"u-full-width\",\n      onClick: this.activateMenu,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }, \"Portis Menu\"))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row smallTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 22\n      }\n    }, \"Sender Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"senderAddress\",\n      value: this.state.senderAddress,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Loading...\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 22\n      }\n    }, \"Receiver Address\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"receiverAddress\",\n      value: this.state.receiverAddress,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Enter the receiver address\",\n      required: true,\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 22\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 22\n      }\n    }, \"Amount\"), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"amount\",\n      value: this.state.amount,\n      type: \"text\",\n      className: \"u-full-width\",\n      placeholder: \"Amount to send\",\n      required: true,\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 22\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 22\n      }\n    }, \"Sender Balance\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 22\n      }\n    }, this.state.senderBalance, \" ETH\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"three columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 22\n      }\n    }, \"Receiver Balance\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 22\n      }\n    }, this.state.receiverBalance, \" ETH\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"button-primary u-full-width\",\n      disabled: !this.state.receiverAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 22\n      }\n    }, \"Transfer\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"six columns\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"u-full-width\",\n      onClick: this.checkBalance.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 22\n      }\n    }, \"Check Balance\")))));\n  }\n\n}","map":{"version":3,"sources":["/home/palak/portis-react-starter/src/components/SendTransferForm.js"],"names":["React","Component","web3","portis","SendTransferForm","constructor","props","state","senderAddress","receiverAddress","amount","senderBalance","receiverBalance","message","activateMenu","showPortis","checkBalance","utils","isAddress","fromWei","eth","getBalance","setState","onChange","e","target","name","value","componentDidMount","onLogin","onActiveWalletChanged","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {web3,portis} from \"../services/web3.js\";\n\nexport default class SendTransferForm extends Component {\n   constructor(props) {\n      super(props);\n      this.state = {\n         senderAddress: '',\n         receiverAddress: '',\n         amount: 1,\n         senderBalance: 0,\n         receiverBalance: 0,\n         message: '',\n      };\n   }\n\n   activateMenu(){\n      portis.showPortis();\n   }\n\n   async checkBalance(){\n      let senderBalance=0;\n      let receiverBalance=0;\n      let message='';\n\n      if(web3.utils.isAddress(this.state.senderAddress)) {\n            senderBalance=web3.utils.fromWei(\n                  await web3.eth.getBalance(this.state.senderAddress)\n            );\n      }\n      else{\n            message='Error: Incorrect etherum address for the sender';\n      }\n\n      if(this.state.receiverAddress){\n            if(web3.utils.isAddress(this.state.receiverAddress)){\n                  receiverBalance=web3.utils.fromWei(\n                        await web3.eth.getBalance(this.state.receiverBalance)\n                  );\n            }\n            else{\n                  message = 'Error: Incoreect etherum address for the receiver';\n            }\n      }\n      this.setState({senderBalance,receiverBalance,message});\n}\n\n   onChange(e) {\n      this.setState({ [e.target.name]: e.target.value });\n   }\n\n   componentDidMount() {\n      portis.onLogin((senderAddress)=>{\n         this.setState({senderAddress});\n         this.checkBalance()\n      })\n\n      portis.onActiveWalletChanged((senderAddress)=>{\n         this.setState({senderAddress});\n         this.checkBalance()\n      })\n   }\n\n   render() {\n      return (\n         <div>\n            <div className=\"row\">\n               <div className=\"nine columns smallTop\">\n                  {this.state.message && <b>{this.state.message}</b>}\n               </div>\n               <div className=\"three columns u-pull-right\">\n                  <button type=\"button\" className=\"u-full-width\" onClick={this.activateMenu}>\n                     Portis Menu\n                  </button>\n               </div>\n            </div>\n\n            <form>\n               <div className=\"row smallTop\">\n                  <div className=\"six columns\">\n                     <label>Sender Address</label>\n                     <input\n                        name=\"senderAddress\"\n                        value={this.state.senderAddress}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Loading...\"\n                        disabled\n                     />\n                  </div>\n                  <div className=\"six columns\">\n                     <label>Receiver Address</label>\n                     <input\n                        name=\"receiverAddress\"\n                        value={this.state.receiverAddress}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Enter the receiver address\"\n                        required\n                        onChange={this.onChange.bind(this)}\n                     />\n                  </div>\n               </div>\n               <div className=\"row\">\n                  <div className=\"six columns\">\n                     <label>Amount</label>\n                     <input\n                        name=\"amount\"\n                        value={this.state.amount}\n                        type=\"text\"\n                        className=\"u-full-width\"\n                        placeholder=\"Amount to send\"\n                        required\n                        onChange={this.onChange.bind(this)}\n                     />\n                  </div>\n                  <div className=\"three columns\">\n                     <label>Sender Balance</label>\n                     <p>{this.state.senderBalance} ETH</p>\n                  </div>\n                  <div className=\"three columns\">\n                     <label>Receiver Balance</label>\n                     <p>{this.state.receiverBalance} ETH</p>\n                  </div>\n               </div>\n               <div className=\"row\">\n                  <div className=\"six columns\">\n                     <button\n                        type=\"button\"\n                        className=\"button-primary u-full-width\"\n                        disabled={!this.state.receiverAddress}\n                     >\n                        Transfer\n                     </button>\n                  </div>\n                  <div className=\"six columns\">\n                     <button type=\"button\" className=\"u-full-width\" onClick={this.checkBalance.bind(this)}>\n                        Check Balance\n                     </button>\n                  </div>\n               </div>\n            </form>\n         </div>\n      );\n   }\n}\n"]},"metadata":{},"sourceType":"module"}